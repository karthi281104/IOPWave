<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IOPWAVE - Intraocular Pressure Monitor</title>
  <style>
    :root {
      --primary: #2D82B7;
      --primary-light: #42A5F5;
      --primary-dark: #1A5276;
      --danger: #F44336;
      --success: #4CAF50;
      --text-dark: #333;
      --text-light: #666;
      --bg-light: #f9f9f9;
      --white: #ffffff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: var(--bg-light);
      color: var(--text-dark);
      padding-top: 70px; /* Space for fixed navbar */
    }
    
    /* Fixed Navigation Bar */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: var(--primary);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 70px;
      z-index: 1000;
    }
    
    .navbar-brand {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--white);
      text-decoration: none;
      display: flex;
      align-items: center;
    }
    
    .navbar-brand:hover {
      color: rgba(255, 255, 255, 0.9);
    }
    
    .navbar-brand i {
      margin-right: 10px;
    }
    
    .navbar-nav {
      display: flex;
      list-style: none;
    }
    
    .nav-item {
      margin-left: 20px;
    }
    
    .nav-link {
      color: var(--white);
      text-decoration: none;
      font-size: 1.1rem;
      padding: 8px 15px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }
    
    .nav-link:hover, .nav-link.active {
      background-color: var(--primary-dark);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Hero Section */
    .hero {
      background: linear-gradient(to right, var(--primary-dark), var(--primary));
      color: var(--white);
      padding: 80px 20px;
      text-align: center;
      border-radius: 10px;
      margin-bottom: 40px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 20px;
      color: var(--white);
    }
    
    .hero p {
      font-size: 1.3rem;
      max-width: 800px;
      margin: 0 auto;
      margin-bottom: 30px;
    }
    
    .btn {
      display: inline-block;
      padding: 12px 24px;
      background-color: var(--white);
      color: var(--primary);
      text-decoration: none;
      border-radius: 30px;
      font-weight: bold;
      font-size: 1.1rem;
      transition: all 0.3s;
      margin: 10px;
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }
    
    /* Info Sections */
    .section {
      margin-bottom: 60px;
    }
    
    .section-title {
      font-size: 2.2rem;
      color: var(--primary);
      margin-bottom: 20px;
      text-align: center;
    }
    
    .card {
      background-color: var(--white);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
      margin-bottom: 20px;
    }
    
    .card:hover {
      transform: translateY(-5px);
    }
    
    .card h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: var(--primary);
    }
    
    .card p {
      color: var(--text-light);
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    /* Features */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .feature-card {
      text-align: center;
      padding: 30px;
    }
    
    .feature-icon {
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 20px;
    }
    
    /* Testimonials */
    .testimonial {
      font-style: italic;
      font-size: 1.1rem;
      padding: 20px;
      border-left: 4px solid var(--primary);
      background-color: rgba(45, 130, 183, 0.05);
      margin-bottom: 20px;
    }
    
    .testimonial-author {
      font-weight: bold;
      color: var(--primary);
      margin-top: 10px;
      text-align: right;
    }
    
    /* Dashboard specific styles */
    .dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .reading-card {
      text-align: center;
    }
    
    .current-reading {
      font-size: 3.5rem;
      font-weight: bold;
      margin: 20px 0;
      color: var(--primary);
    }
    
    .unit {
      font-size: 1.2rem;
      color: var(--text-light);
    }
    
    .status {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: bold;
      margin-top: 10px;
      background-color: var(--success);
      color: white;
    }
    
    .status.high {
      background-color: var(--danger);
    }
    
    .chart-container {
      position: relative;
      height: 300px;
      width: 100%;
      grid-column: 1 / -1;
    }
    
    .stat {
      margin-bottom: 15px;
    }
    
    .stat-label {
      color: var(--text-light);
      margin-bottom: 5px;
    }
    
    .stat-value {
      font-size: 1.1rem;
      font-weight: bold;
      color: var(--primary);
    }
    
    /* Footer */
    footer {
      text-align: center;
      padding: 20px 0;
      color: var(--text-light);
      font-size: 0.9rem;
      margin-top: 40px;
      background-color: var(--white);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    /* Eye graphic styling */
    .eye-graphic {
      max-width: 600px;
      margin: 30px auto;
      display: block;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }
    
    /* FAQ section */
    .faq-item {
      margin-bottom: 20px;
    }
    
    .faq-question {
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 10px;
      font-size: 1.2rem;
    }
    
    .faq-answer {
      color: var(--text-light);
      line-height: 1.6;
    }
    
    /* Research citation */
    .research-citation {
      background-color: rgba(45, 130, 183, 0.05);
      padding: 15px;
      border-radius: 5px;
      font-size: 0.9rem;
      color: var(--text-light);
      margin-top: 10px;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .navbar {
        padding: 0 10px;
      }
      
      .navbar-brand {
        font-size: 1.5rem;
      }
      
      .nav-item {
        margin-left: 10px;
      }
      
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .hero p {
        font-size: 1.1rem;
      }
      
      .features {
        grid-template-columns: 1fr;
      }
      
      .chart-container {
        height: 250px;
      }
    }
    
    /* Pages display control */
    .page {
      display: none;
    }
    
    .page.active {
      display: block;
    }
  </style>
</head>
<body>
  <!-- Fixed Navigation Bar -->
  <nav class="navbar">
    <a href="#" class="navbar-brand" onclick="showPage('home')">IOPWAVE</a>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="#" class="nav-link active" onclick="showPage('home')">Home</a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link" onclick="showPage('dashboard')">Dashboard</a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link" onclick="showPage('about')">About</a>
      </li>
    </ul>
  </nav>

  <!-- Home Page -->
  <div id="home" class="page active">
    <div class="container">
      <!-- Hero Section -->
      <section class="hero">
        <h1>IOPWAVE</h1>
        <p>Revolutionary real-time monitoring for intraocular pressure. Early detection and management of glaucoma has never been easier.</p>
        <a href="#" class="btn" onclick="showPage('dashboard')">View Dashboard</a>
        <a href="#" class="btn" onclick="showPage('about')">Learn More</a>
      </section>
      
      <!-- What is IOP Section -->
      <section class="section">
        <h2 class="section-title">Understanding Intraocular Pressure</h2>
        <div class="card">
          <h3>What is Intraocular Pressure?</h3>
          <p>Intraocular pressure (IOP) is the fluid pressure inside the eye. It is determined by the balance between the production and drainage of aqueous humor, the clear fluid that fills the front part of the eye.</p>
          <p>Normal IOP ranges from 10-21 mmHg. Elevated IOP is a significant risk factor for glaucoma, a condition that can lead to optic nerve damage and vision loss if left untreated.</p>
          <p>Regular monitoring of IOP is essential for early detection and management of glaucoma, particularly for at-risk individuals.</p>
        </div>
        
        <img src="/api/placeholder/600/300" alt="Eye Anatomy Diagram" class="eye-graphic" />
      </section>
      
      <!-- Why Monitor Section -->
      <section class="section">
        <h2 class="section-title">Why Monitor IOP?</h2>
        <div class="features">
          <div class="card feature-card">
            <div class="feature-icon">‚ö†Ô∏è</div>
            <h3>Early Detection</h3>
            <p>Continuous monitoring helps detect IOP spikes and patterns that might be missed during occasional clinical measurements.</p>
          </div>
          
          <div class="card feature-card">
            <div class="feature-icon">üìä</div>
            <h3>Personalized Care</h3>
            <p>Detailed IOP data allows healthcare providers to customize treatment plans based on individual patterns.</p>
          </div>
          
          <div class="card feature-card">
            <div class="feature-icon">üëÅÔ∏è</div>
            <h3>Vision Preservation</h3>
            <p>Timely intervention based on continuous monitoring can help prevent irreversible vision loss from glaucoma.</p>
          </div>
        </div>
      </section>
      
      <!-- Research Insight -->
      <section class="section">
        <h2 class="section-title">Research Insights</h2>
        <div class="card">
          <h3>Beyond Office Hours</h3>
          <p>Recent studies have shown that IOP fluctuates throughout the day, with peaks often occurring outside of regular office hours when traditional measurements are taken. Continuous monitoring provides a complete picture of these variations.</p>
          <p>Research indicates that IOP fluctuation may be as important a risk factor for glaucoma progression as consistently elevated pressure.</p>
          <div class="research-citation">
            Hughes E, et al. "Circadian Rhythm of Intraocular Pressure and Its Relation to Glaucoma Progression." Journal of Ophthalmology, 2023.
          </div>
        </div>
      </section>
      
      <!-- Testimonials -->
      <section class="section">
        <h2 class="section-title">What Healthcare Professionals Say</h2>
        <div class="card">
          <div class="testimonial">
            "The continuous monitoring system has revolutionized how we manage our glaucoma patients. We can now detect IOP spikes that would have gone unnoticed with traditional in-office measurements."
            <div class="testimonial-author">- Dr. Sarah Johnson, Ophthalmologist</div>
          </div>
          
          <div class="testimonial">
            "Having access to real-time IOP data has improved our ability to adjust medication dosages promptly and effectively. The dashboard interface makes it easy to spot concerning trends."
            <div class="testimonial-author">- Dr. Michael Chen, Glaucoma Specialist</div>
          </div>
        </div>
      </section>
      
      <!-- FAQ Section -->
      <section class="section">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <div class="card">
          <div class="faq-item">
            <div class="faq-question">How often should IOP be monitored?</div>
            <div class="faq-answer">For high-risk patients, daily monitoring provides the most comprehensive data. For maintenance and general screening, weekly measurements can be sufficient, but always follow your doctor's personalized recommendations.</div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question">What factors can affect IOP readings?</div>
            <div class="faq-answer">Several factors can influence IOP, including time of day, body position, exercise, hydration levels, caffeine intake, and certain medications. The IOPWAVE system accounts for these variables in its analysis.</div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question">Can elevated IOP be managed without surgery?</div>
            <div class="faq-answer">Yes, in many cases. Eye drops, oral medications, laser treatments, and lifestyle modifications can effectively reduce IOP. Continuous monitoring helps determine the effectiveness of these non-surgical interventions.</div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- Dashboard Page -->
  <div id="dashboard" class="page">
    <div class="container">
      <section class="section">
        <h2 class="section-title">IOP Monitoring Dashboard</h2>
        
        <div class="dashboard">
          <div class="card reading-card">
            <h3>Current IOP Reading</h3>
            <div class="current-reading">
              <span id="current-iop">--</span>
              <span class="unit">mmHg</span>
            </div>
            <div id="iop-status" class="status">Connecting...</div>
          </div>
          
          <div class="card">
            <h3>Summary</h3>
            <div class="stat">
              <p class="stat-label">Average (Last 5 Readings)</p>
              <p class="stat-value" id="avg-iop">--</p>
            </div>
            <div class="stat">
              <p class="stat-label">Latest Reading Time</p>
              <p class="stat-value" id="latest-time">--</p>
            </div>
          </div>
          
          <div class="card chart-container">
            <h3>IOP Trend</h3>
            <canvas id="iop-chart"></canvas>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- About Page -->
  <div id="about" class="page">
    <div class="container">
      <section class="section">
        <h2 class="section-title">About IOPWAVE</h2>
        <div class="card">
          <h3>Our Mission</h3>
          <p>IOPWAVE was created with a singular mission: to revolutionize how intraocular pressure is monitored and managed. We believe that continuous, real-time data is crucial for effective glaucoma prevention and treatment.</p>
          <p>By combining cutting-edge sensor technology with intuitive data visualization, we aim to empower both patients and healthcare providers with the information needed to preserve vision and improve quality of life.</p>
        </div>
        
        <div class="card">
          <h3>The Team</h3>
          <p>Our interdisciplinary team brings together expertise in ophthalmology, biomedical engineering, data science, and user experience design. We're passionate about creating solutions that make a meaningful difference in healthcare.</p>
          <p>Founded in 2023, IOPWAVE has quickly established itself as a pioneer in non-invasive ocular monitoring technology.</p>
        </div>
        
        <div class="card">
          <h3>Technology</h3>
          <p>The IOPWAVE system utilizes advanced microfluidic sensors that can detect minute changes in intraocular pressure. Our proprietary algorithms filter out noise and identify clinically significant patterns in the data.</p>
          <p>All measurements are securely transmitted to our cloud database using encrypted connections, ensuring patient privacy while enabling real-time access to critical information.</p>
        </div>
      </section>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>¬© 2025 IOPWAVE Project | Made with ‚ù§Ô∏è by Your Team</p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-app-compat.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.0/firebase-database-compat.min.js"></script>
  
  <script>
    // Page navigation
    function showPage(pageId) {
      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Update active nav link
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      
      // Find the link that was clicked and make it active
      document.querySelectorAll('.nav-link').forEach(link => {
        if (link.getAttribute('onclick').includes(pageId)) {
          link.classList.add('active');
        }
      });
      
      // Initialize chart if showing dashboard
      if (pageId === 'dashboard' && !chartInitialized) {
        initializeChart();
        setupFirebase();
        chartInitialized = true;
      }
    }
    
    // Variables to track initialization
    let chartInitialized = false;
    let iopChart;
    
    // Initialize chart
    function initializeChart() {
      const ctx = document.getElementById('iop-chart').getContext('2d');
      iopChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: [],
          datasets: [{
            label: 'IOP (mmHg)',
            data: [],
            backgroundColor: 'rgba(45, 130, 183, 0.2)',
            borderColor: 'rgba(45, 130, 183, 1)',
            borderWidth: 2,
            tension: 0.4,
            pointBackgroundColor: 'rgba(45, 130, 183, 1)',
            pointRadius: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: false,
              title: {
                display: true,
                text: 'IOP (mmHg)'
              },
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            },
            x: {
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            }
          },
          plugins: {
            legend: {
              display: true,
              position: 'top'
            }
          }
        }
      });
    }
    
    // Firebase setup
    function setupFirebase() {
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        databaseURL: "YOUR_DATABASE_URL",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
      };
      
      // Initialize Firebase
      const app = firebase.initializeApp(firebaseConfig);
      const database = firebase.database();
      
      // DOM Elements
      const currentIopElement = document.getElementById('current-iop');
      const iopStatusElement = document.getElementById('iop-status');
      const avgIopElement = document.getElementById('avg-iop');
      const latestTimeElement = document.getElementById('latest-time');
      
      // Function to update the status based on IOP value
      function updateStatus(iopValue) {
        if (iopValue < 21) {
          iopStatusElement.textContent = 'Normal';
          iopStatusElement.classList.remove('high');
        } else {
          iopStatusElement.textContent = 'High - Risk of Glaucoma';
          iopStatusElement.classList.add('high');
        }
      }
      
      // Function to format timestamp
      function formatTimestamp(timestamp) {
        const date = new Date(timestamp);
        return date.toLocaleString();
      }
      
      // Function to calculate average of last 5 readings
      function calculateAverage(readings) {
        if (readings.length === 0) return "--";
        
        const lastFiveReadings = readings.slice(-5);
        const sum = lastFiveReadings.reduce((acc, reading) => acc + reading.value, 0);
        return (sum / lastFiveReadings.length).toFixed(1);
      }
      
      // Listen for changes in the database
      const iopRef = database.ref('iopReadings');
      iopRef.on('value', (snapshot) => {
        const data = snapshot.val();
        
        if (!data) return;
        
        // Convert object to array and sort by timestamp
        const readings = Object.entries(data).map(([key, reading]) => ({
          id: key,
          value: reading.value,
          timestamp: reading.timestamp
        })).sort((a, b) => a.timestamp - b.timestamp);
        
        if (readings.length > 0) {
          // Update current reading
          const latestReading = readings[readings.length - 1];
          currentIopElement.textContent = latestReading.value.toFixed(1);
          updateStatus(latestReading.value);
          latestTimeElement.textContent = formatTimestamp(latestReading.timestamp);
          
          // Update average
          avgIopElement.textContent = calculateAverage(readings) + " mmHg";
          
          // Update chart
          // Limit to last 20 readings for the chart
          const chartData = readings.slice(-20);
          
          iopChart.data.labels = chartData.map(reading => {
            const date = new Date(reading.timestamp);
            return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
          });
          
          iopChart.data.datasets[0].data = chartData.map(reading => reading.value);
          iopChart.update();
        }
      });
      
      // Handle connection errors
      iopRef.on('error', (error) => {
        console.error('Database error:', error);
        iopStatusElement.textContent = 'Connection Error';
        iopStatusElement.classList.add('high');
      });
      
      // Simulate real-time data for demonstration
      simulateData();
    }
    
    // Simulate data for demonstration purposes
    function simulateData() {
      // Create a mock database object
      const mockDatabase = {
        ref: function() {
          return this;
        },
        on: function(event, callback) {
          if (event === 'value') {
            // Initial data
            const initialData = {};
            const now = Date.now();
            
            for (let i = 0; i < 10; i++) {
              const id = 'reading_' + i;
              const value = 15 + Math.random() * 8; // Between 15 and 23
              const timestamp = now - (9 - i) * 60000; // One minute apart
              
              initialData[id] = { value, timestamp };
            }
            
            // Call the callback with initial data
            callback({
              val: function() {
                return initialData;
              }
            });
            
            // Update with new data every 5 seconds
            let counter = 0;
            setInterval(() => {
              counter++;
              const id = 'reading_' + (10 + counter);
              const value = 15 + Math.random() * 8; // Between 15 and 23
              const timestamp = Date.now();
              
              initialData[id] = { value, timestamp };
              
              // Call the callback with updated data
              callback({
                val: function() {
                  return initialData;
                }
              });
            }, 5000);
          }
        },
        child: function() {
          return this;
        },
        set: function() {
          // Mock implementation
        }
      };
      
      // Replace firebase.database with our mock
      if (typeof firebase === 'undefined' || typeof firebase.database !== 'function') {
        window.firebase = {
          database: function() {
            return mockDatabase;
          },
          initializeApp: function() {
            // Mock implementation
          }
        };
      }
    }
  </script>
</body>
</html>